<!DOCTYPE html>
<html lang="en">
    <head>
        <title>AGRIHUB</title>
        <link rel="stylesheet" href="Style.css">
    </head>
    <body>
        <div class="main">
            <div class="navbar">
                <div class="icon">
                    <h2 class="logo">AgRiHuB</h2>
                </div>

                <div class="menu">
                    <ul>
                        <li><a href="#">HOME</a></li>
                        <li><a href="#">ARTICLE</a></li>
                        <li><a href="#">FARMERS_KIT</a></li>
                        <li><a href="#">MY_ACCOUNT</a></li>
                        <li><a href="#">CONTACT</a></li>
                        <li><a href="#">CART</a></li>

                    </ul>
                </div>

                <div class="search">
                    <input class="srch" type="search" name="" placeholder="Type To search">
                    <a href="#"><button class="btn">Search</button></a>
                </div>
            </div>    
                <div class="content">
                    <h1>FARM MANAGEMENT SYSTEM</h1>
                         <div class="form">
                            <h2>Login Here</h2>
                            <input type="email" name="email" placeholder="Enter Email Here">
                            <input type="password" name="" placeholder="Enter Password Here">
                            <button class="btnn"><a href="#">Login</a></button>

                            <p class= "link">Don't have an account<br>

                            <a href="#">Sign up </a>Here</a></p>
                            <p class="liw">Log in with</p>

                            <div class="icon">
                                <a href="#"><ion-icon name="logo-facebook"></ion-icon></a>
                                <a href="#"><ion-icon name="logo-instagram"></ion-icon></a>
                                <a href="#"><ion-icon name="logo-twitter"></ion-icon></a>
                                <a href="#"><ion-icon name="logo-skype"></ion-icon></a>
                                <a href="#"><ion-icon name="logo-google"></ion-icon></a>
                            
                            </div>
                        </div>
                    
                </div>
            
        </div>
    
        <script src="https://unpkg.com/ionicons@5.4.0/dist/ionicons.js"></script>
        <script>
            // Get the login button and set up the click event listener
            document.querySelector('.btnn').addEventListener('click', function(e) {
                e.preventDefault();  // Prevent default form submission
        
                // Get the email and password entered by the user
                var email = document.querySelector('input[name="email"]').value;
                var password = document.querySelector('input[name="password"]').value;
        
                // Make the POST request to the backend /api/user/login endpoint
                fetch('http://localhost:8080/api/user/login?email=' + email + '&password=' + password, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',  // Set content type to JSON
                    }
                })
                .then(response => response.json())  // Parse the response as JSON
                .then(data => {
                    // Handle the response data from the backend
                    if (data) {
                        alert('Login successful');  // Display success message
                    } else {
                        alert('Invalid email or password');  // Display error message
                    }
                })
                .catch(error => {
                    // Handle any errors that occur during the fetch
                    console.error('Error:', error);
                    alert('An error occurred, please try again later.');
                });
            });
        </script>
    <script src="login.js"></script>
   
    </body>
    </html>
